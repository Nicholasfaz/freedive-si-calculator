import Head from 'next/head';

import React, { useState } from 'react';
import { motion, AnimatePresence } from 'framer-motion';

function formatMinutesToMMSS(totalSeconds) {
  const min = Math.floor(totalSeconds / 60);
  const sec = totalSeconds % 60;
  return `${min}:${sec.toString().padStart(2, '0')}`;
}

const surfaceIntervalTable = {
  "air": {
    "10": {
      "1:00": "1:00",
      "1:15": "1:15",
      "1:30": "1:30",
      "1:45": "1:45",
      "2:00": "2:00",
      "2:15": "2:15",
      "2:30": "2:30",
      "2:45": "2:45",
      "3:00": "3:00",
      "3:15": "3:15",
      "3:30": "3:30",
      "3:45": "3:45",
      "4:00": "4:00",
      "4:15": "4:15",
      "4:30": "4:30",
      "4:45": "4:45",
      "5:00": "5:00",
      "5:15": "5:15",
      "5:30": "5:30",
      "5:45": "5:45",
      "6:00": "6:00",
      "6:15": "6:15",
      "6:30": "6:30",
      "6:45": "6:45",
      "7:00": "7:00"
    },
    "15": {
      "1:00": "1:30",
      "1:15": "1:52",
      "1:30": "2:15",
      "1:45": "2:37",
      "2:00": "3:00",
      "2:15": "3:22",
      "2:30": "3:45",
      "2:45": "4:07",
      "3:00": "4:30",
      "3:15": "4:52",
      "3:30": "5:15",
      "3:45": "5:37",
      "4:00": "6:00",
      "4:15": "6:22",
      "4:30": "6:45",
      "4:45": "7:07",
      "5:00": "7:30",
      "5:15": "7:52",
      "5:30": "8:15",
      "5:45": "8:37",
      "6:00": "9:00",
      "6:15": "9:22",
      "6:30": "9:45",
      "6:45": "10:07",
      "7:00": "10:30"
    },
    "20": {
      "1:00": "2:00",
      "1:15": "2:30",
      "1:30": "3:00",
      "1:45": "3:30",
      "2:00": "4:00",
      "2:15": "4:30",
      "2:30": "5:00",
      "2:45": "5:30",
      "3:00": "6:00",
      "3:15": "6:30",
      "3:30": "7:00",
      "3:45": "7:30",
      "4:00": "8:00",
      "4:15": "8:30",
      "4:30": "9:00",
      "4:45": "9:30",
      "5:00": "10:00",
      "5:15": "10:30",
      "5:30": "11:00",
      "5:45": "11:30",
      "6:00": "12:00",
      "6:15": "12:30",
      "6:30": "13:00",
      "6:45": "13:30",
      "7:00": "14:00"
    },
    "25": {
      "1:00": "2:30",
      "1:15": "3:07",
      "1:30": "3:45",
      "1:45": "4:22",
      "2:00": "5:00",
      "2:15": "5:37",
      "2:30": "6:15",
      "2:45": "6:52",
      "3:00": "7:30",
      "3:15": "8:07",
      "3:30": "8:45",
      "3:45": "9:22",
      "4:00": "10:00",
      "4:15": "10:37",
      "4:30": "11:15",
      "4:45": "11:52",
      "5:00": "12:30",
      "5:15": "13:07",
      "5:30": "13:45",
      "5:45": "14:22",
      "6:00": "15:00",
      "6:15": "15:37",
      "6:30": "16:15",
      "6:45": "16:52",
      "7:00": "17:30"
    },
    "30": {
      "1:00": "3:00",
      "1:15": "3:45",
      "1:30": "4:30",
      "1:45": "5:15",
      "2:00": "6:00",
      "2:15": "6:45",
      "2:30": "7:30",
      "2:45": "8:15",
      "3:00": "9:00",
      "3:15": "9:45",
      "3:30": "10:30",
      "3:45": "11:15",
      "4:00": "12:00",
      "4:15": "12:45",
      "4:30": "13:30",
      "4:45": "14:15",
      "5:00": "15:00",
      "5:15": "15:45",
      "5:30": "16:30",
      "5:45": "17:15",
      "6:00": "18:00",
      "6:15": "18:45",
      "6:30": "19:30",
      "6:45": "20:15",
      "7:00": "21:00"
    },
    "35": {
      "1:00": "3:30",
      "1:15": "4:22",
      "1:30": "5:15",
      "1:45": "6:07",
      "2:00": "7:00",
      "2:15": "7:52",
      "2:30": "8:45",
      "2:45": "9:37",
      "3:00": "10:30",
      "3:15": "11:22",
      "3:30": "12:15",
      "3:45": "13:07",
      "4:00": "14:00",
      "4:15": "14:52",
      "4:30": "15:45",
      "4:45": "16:37",
      "5:00": "17:30",
      "5:15": "18:22",
      "5:30": "19:15",
      "5:45": "20:07",
      "6:00": "21:00",
      "6:15": "21:52",
      "6:30": "22:45",
      "6:45": "23:37",
      "7:00": "24:30"
    },
    "40": {
      "1:00": "4:00",
      "1:15": "5:00",
      "1:30": "6:00",
      "1:45": "7:00",
      "2:00": "8:00",
      "2:15": "9:00",
      "2:30": "10:00",
      "2:45": "11:00",
      "3:00": "12:00",
      "3:15": "13:00",
      "3:30": "14:00",
      "3:45": "15:00",
      "4:00": "16:00",
      "4:15": "17:00",
      "4:30": "18:00",
      "4:45": "19:00",
      "5:00": "20:00",
      "5:15": "21:00",
      "5:30": "22:00",
      "5:45": "23:00",
      "6:00": "24:00",
      "6:15": "25:00",
      "6:30": "26:00",
      "6:45": "27:00",
      "7:00": "28:00"
    },
    "45": {
      "1:00": "4:30",
      "1:15": "5:37",
      "1:30": "6:45",
      "1:45": "7:52",
      "2:00": "9:00",
      "2:15": "10:07",
      "2:30": "11:15",
      "2:45": "12:22",
      "3:00": "13:30",
      "3:15": "14:37",
      "3:30": "15:45",
      "3:45": "16:52",
      "4:00": "18:00",
      "4:15": "19:07",
      "4:30": "20:15",
      "4:45": "21:22",
      "5:00": "22:30",
      "5:15": "23:37",
      "5:30": "24:45",
      "5:45": "25:52",
      "6:00": "27:00",
      "6:15": "28:07",
      "6:30": "29:15",
      "6:45": "30:22",
      "7:00": "31:30"
    },
    "50": {
      "1:00": "5:00",
      "1:15": "6:15",
      "1:30": "7:30",
      "1:45": "8:45",
      "2:00": "10:00",
      "2:15": "11:15",
      "2:30": "12:30",
      "2:45": "13:45",
      "3:00": "15:00",
      "3:15": "16:15",
      "3:30": "17:30",
      "3:45": "18:45",
      "4:00": "20:00",
      "4:15": "21:15",
      "4:30": "22:30",
      "4:45": "23:45",
      "5:00": "25:00",
      "5:15": "26:15",
      "5:30": "27:30",
      "5:45": "28:45",
      "6:00": "30:00",
      "6:15": "31:15",
      "6:30": "32:30",
      "6:45": "33:45",
      "7:00": "35:00"
    },
    "55": {
      "1:00": "5:30",
      "1:15": "6:52",
      "1:30": "8:15",
      "1:45": "9:37",
      "2:00": "11:00",
      "2:15": "12:22",
      "2:30": "13:45",
      "2:45": "15:07",
      "3:00": "16:30",
      "3:15": "17:52",
      "3:30": "19:15",
      "3:45": "20:37",
      "4:00": "22:00",
      "4:15": "23:22",
      "4:30": "24:45",
      "4:45": "26:07",
      "5:00": "27:30",
      "5:15": "28:52",
      "5:30": "30:15",
      "5:45": "31:37",
      "6:00": "33:00",
      "6:15": "34:22",
      "6:30": "35:45",
      "6:45": "37:07",
      "7:00": "38:30"
    },
    "60": {
      "1:00": "6:00",
      "1:15": "7:30",
      "1:30": "9:00",
      "1:45": "10:30",
      "2:00": "12:00",
      "2:15": "13:30",
      "2:30": "15:00",
      "2:45": "16:30",
      "3:00": "18:00",
      "3:15": "19:30",
      "3:30": "21:00",
      "3:45": "22:30",
      "4:00": "24:00",
      "4:15": "25:30",
      "4:30": "27:00",
      "4:45": "28:30",
      "5:00": "30:00",
      "5:15": "31:30",
      "5:30": "33:00",
      "5:45": "34:30",
      "6:00": "36:00",
      "6:15": "37:30",
      "6:30": "39:00",
      "6:45": "40:30",
      "7:00": "42:00"
    },
    "65": {
      "1:00": "6:30",
      "1:15": "8:07",
      "1:30": "9:45",
      "1:45": "11:22",
      "2:00": "13:00",
      "2:15": "14:37",
      "2:30": "16:15",
      "2:45": "17:52",
      "3:00": "19:30",
      "3:15": "21:07",
      "3:30": "22:45",
      "3:45": "24:22",
      "4:00": "26:00",
      "4:15": "27:37",
      "4:30": "29:15",
      "4:45": "30:52",
      "5:00": "32:30",
      "5:15": "34:07",
      "5:30": "35:45",
      "5:45": "37:22",
      "6:00": "39:00",
      "6:15": "40:37",
      "6:30": "42:15",
      "6:45": "43:52",
      "7:00": "45:30"
    },
    "70": {
      "1:00": "7:00",
      "1:15": "8:45",
      "1:30": "10:30",
      "1:45": "12:15",
      "2:00": "14:00",
      "2:15": "15:45",
      "2:30": "17:30",
      "2:45": "19:15",
      "3:00": "21:00",
      "3:15": "22:45",
      "3:30": "24:30",
      "3:45": "26:15",
      "4:00": "28:00",
      "4:15": "29:45",
      "4:30": "31:30",
      "4:45": "33:15",
      "5:00": "35:00",
      "5:15": "36:45",
      "5:30": "38:30",
      "5:45": "40:15",
      "6:00": "42:00",
      "6:15": "43:45",
      "6:30": "45:30",
      "6:45": "47:15",
      "7:00": "49:00"
    },
    "75": {
      "1:00": "7:30",
      "1:15": "9:22",
      "1:30": "11:15",
      "1:45": "13:07",
      "2:00": "15:00",
      "2:15": "16:52",
      "2:30": "18:45",
      "2:45": "20:37",
      "3:00": "22:30",
      "3:15": "24:22",
      "3:30": "26:15",
      "3:45": "28:07",
      "4:00": "30:00",
      "4:15": "31:52",
      "4:30": "33:45",
      "4:45": "35:37",
      "5:00": "37:30",
      "5:15": "39:22",
      "5:30": "41:15",
      "5:45": "43:07",
      "6:00": "45:00",
      "6:15": "46:52",
      "6:30": "48:45",
      "6:45": "50:37",
      "7:00": "52:30"
    },
    "80": {
      "1:00": "8:00",
      "1:15": "10:00",
      "1:30": "12:00",
      "1:45": "14:00",
      "2:00": "16:00",
      "2:15": "18:00",
      "2:30": "20:00",
      "2:45": "22:00",
      "3:00": "24:00",
      "3:15": "26:00",
      "3:30": "28:00",
      "3:45": "30:00",
      "4:00": "32:00",
      "4:15": "34:00",
      "4:30": "36:00",
      "4:45": "38:00",
      "5:00": "40:00",
      "5:15": "42:00",
      "5:30": "44:00",
      "5:45": "46:00",
      "6:00": "48:00",
      "6:15": "50:00",
      "6:30": "52:00",
      "6:45": "54:00",
      "7:00": "56:00"
    }
  },
  "ean80": {
    "10": {
      "1:00": "0:30",
      "1:15": "0:37",
      "1:30": "0:45",
      "1:45": "0:52",
      "2:00": "1:00",
      "2:15": "1:07",
      "2:30": "1:15",
      "2:45": "1:22",
      "3:00": "1:30",
      "3:15": "1:37",
      "3:30": "1:45",
      "3:45": "1:52",
      "4:00": "2:00",
      "4:15": "2:07",
      "4:30": "2:15",
      "4:45": "2:22",
      "5:00": "2:30",
      "5:15": "2:37",
      "5:30": "2:45",
      "5:45": "2:52",
      "6:00": "3:00",
      "6:15": "3:07",
      "6:30": "3:15",
      "6:45": "3:22",
      "7:00": "3:30"
    },
    "15": {
      "1:00": "0:45",
      "1:15": "0:56",
      "1:30": "1:07",
      "1:45": "1:18",
      "2:00": "1:30",
      "2:15": "1:41",
      "2:30": "1:52",
      "2:45": "2:03",
      "3:00": "2:15",
      "3:15": "2:26",
      "3:30": "2:37",
      "3:45": "2:48",
      "4:00": "3:00",
      "4:15": "3:11",
      "4:30": "3:22",
      "4:45": "3:33",
      "5:00": "3:45",
      "5:15": "3:56",
      "5:30": "4:07",
      "5:45": "4:18",
      "6:00": "4:30",
      "6:15": "4:41",
      "6:30": "4:52",
      "6:45": "5:03",
      "7:00": "5:15"
    },
    "20": {
      "1:00": "1:00",
      "1:15": "1:15",
      "1:30": "1:30",
      "1:45": "1:45",
      "2:00": "2:00",
      "2:15": "2:15",
      "2:30": "2:30",
      "2:45": "2:45",
      "3:00": "3:00",
      "3:15": "3:15",
      "3:30": "3:30",
      "3:45": "3:45",
      "4:00": "4:00",
      "4:15": "4:15",
      "4:30": "4:30",
      "4:45": "4:45",
      "5:00": "5:00",
      "5:15": "5:15",
      "5:30": "5:30",
      "5:45": "5:45",
      "6:00": "6:00",
      "6:15": "6:15",
      "6:30": "6:30",
      "6:45": "6:45",
      "7:00": "7:00"
    },
    "25": {
      "1:00": "1:15",
      "1:15": "1:33",
      "1:30": "1:52",
      "1:45": "2:11",
      "2:00": "2:30",
      "2:15": "2:48",
      "2:30": "3:07",
      "2:45": "3:26",
      "3:00": "3:45",
      "3:15": "4:03",
      "3:30": "4:22",
      "3:45": "4:41",
      "4:00": "5:00",
      "4:15": "5:18",
      "4:30": "5:37",
      "4:45": "5:56",
      "5:00": "6:15",
      "5:15": "6:33",
      "5:30": "6:52",
      "5:45": "7:11",
      "6:00": "7:30",
      "6:15": "7:48",
      "6:30": "8:07",
      "6:45": "8:26",
      "7:00": "8:45"
    },
    "30": {
      "1:00": "1:30",
      "1:15": "1:52",
      "1:30": "2:15",
      "1:45": "2:37",
      "2:00": "3:00",
      "2:15": "3:22",
      "2:30": "3:45",
      "2:45": "4:07",
      "3:00": "4:30",
      "3:15": "4:52",
      "3:30": "5:15",
      "3:45": "5:37",
      "4:00": "6:00",
      "4:15": "6:22",
      "4:30": "6:45",
      "4:45": "7:07",
      "5:00": "7:30",
      "5:15": "7:52",
      "5:30": "8:15",
      "5:45": "8:37",
      "6:00": "9:00",
      "6:15": "9:22",
      "6:30": "9:45",
      "6:45": "10:07",
      "7:00": "10:30"
    },
    "35": {
      "1:00": "1:45",
      "1:15": "2:11",
      "1:30": "2:37",
      "1:45": "3:03",
      "2:00": "3:30",
      "2:15": "3:56",
      "2:30": "4:22",
      "2:45": "4:48",
      "3:00": "5:15",
      "3:15": "5:41",
      "3:30": "6:07",
      "3:45": "6:33",
      "4:00": "7:00",
      "4:15": "7:26",
      "4:30": "7:52",
      "4:45": "8:18",
      "5:00": "8:45",
      "5:15": "9:11",
      "5:30": "9:37",
      "5:45": "10:03",
      "6:00": "10:30",
      "6:15": "10:56",
      "6:30": "11:22",
      "6:45": "11:48",
      "7:00": "12:15"
    },
    "40": {
      "1:00": "2:00",
      "1:15": "2:30",
      "1:30": "3:00",
      "1:45": "3:30",
      "2:00": "4:00",
      "2:15": "4:30",
      "2:30": "5:00",
      "2:45": "5:30",
      "3:00": "6:00",
      "3:15": "6:30",
      "3:30": "7:00",
      "3:45": "7:30",
      "4:00": "8:00",
      "4:15": "8:30",
      "4:30": "9:00",
      "4:45": "9:30",
      "5:00": "10:00",
      "5:15": "10:30",
      "5:30": "11:00",
      "5:45": "11:30",
      "6:00": "12:00",
      "6:15": "12:30",
      "6:30": "13:00",
      "6:45": "13:30",
      "7:00": "14:00"
    },
    "45": {
      "1:00": "2:15",
      "1:15": "2:48",
      "1:30": "3:22",
      "1:45": "3:56",
      "2:00": "4:30",
      "2:15": "5:03",
      "2:30": "5:37",
      "2:45": "6:11",
      "3:00": "6:45",
      "3:15": "7:18",
      "3:30": "7:52",
      "3:45": "8:26",
      "4:00": "9:00",
      "4:15": "9:33",
      "4:30": "10:07",
      "4:45": "10:41",
      "5:00": "11:15",
      "5:15": "11:48",
      "5:30": "12:22",
      "5:45": "12:56",
      "6:00": "13:30",
      "6:15": "14:03",
      "6:30": "14:37",
      "6:45": "15:11",
      "7:00": "15:45"
    },
    "50": {
      "1:00": "2:30",
      "1:15": "3:07",
      "1:30": "3:45",
      "1:45": "4:22",
      "2:00": "5:00",
      "2:15": "5:37",
      "2:30": "6:15",
      "2:45": "6:52",
      "3:00": "7:30",
      "3:15": "8:07",
      "3:30": "8:45",
      "3:45": "9:22",
      "4:00": "10:00",
      "4:15": "10:37",
      "4:30": "11:15",
      "4:45": "11:52",
      "5:00": "12:30",
      "5:15": "13:07",
      "5:30": "13:45",
      "5:45": "14:22",
      "6:00": "15:00",
      "6:15": "15:37",
      "6:30": "16:15",
      "6:45": "16:52",
      "7:00": "17:30"
    },
    "55": {
      "1:00": "2:45",
      "1:15": "3:26",
      "1:30": "4:07",
      "1:45": "4:48",
      "2:00": "5:30",
      "2:15": "6:11",
      "2:30": "6:52",
      "2:45": "7:33",
      "3:00": "8:15",
      "3:15": "8:56",
      "3:30": "9:37",
      "3:45": "10:18",
      "4:00": "11:00",
      "4:15": "11:41",
      "4:30": "12:22",
      "4:45": "13:03",
      "5:00": "13:45",
      "5:15": "14:26",
      "5:30": "15:07",
      "5:45": "15:48",
      "6:00": "16:30",
      "6:15": "17:11",
      "6:30": "17:52",
      "6:45": "18:33",
      "7:00": "19:15"
    },
    "60": {
      "1:00": "3:00",
      "1:15": "3:45",
      "1:30": "4:30",
      "1:45": "5:15",
      "2:00": "6:00",
      "2:15": "6:45",
      "2:30": "7:30",
      "2:45": "8:15",
      "3:00": "9:00",
      "3:15": "9:45",
      "3:30": "10:30",
      "3:45": "11:15",
      "4:00": "12:00",
      "4:15": "12:45",
      "4:30": "13:30",
      "4:45": "14:15",
      "5:00": "15:00",
      "5:15": "15:45",
      "5:30": "16:30",
      "5:45": "17:15",
      "6:00": "18:00",
      "6:15": "18:45",
      "6:30": "19:30",
      "6:45": "20:15",
      "7:00": "21:00"
    },
    "65": {
      "1:00": "3:15",
      "1:15": "4:03",
      "1:30": "4:52",
      "1:45": "5:41",
      "2:00": "6:30",
      "2:15": "7:18",
      "2:30": "8:07",
      "2:45": "8:56",
      "3:00": "9:45",
      "3:15": "10:33",
      "3:30": "11:22",
      "3:45": "12:11",
      "4:00": "13:00",
      "4:15": "13:48",
      "4:30": "14:37",
      "4:45": "15:26",
      "5:00": "16:15",
      "5:15": "17:03",
      "5:30": "17:52",
      "5:45": "18:41",
      "6:00": "19:30",
      "6:15": "20:18",
      "6:30": "21:07",
      "6:45": "21:56",
      "7:00": "22:45"
    },
    "70": {
      "1:00": "3:30",
      "1:15": "4:22",
      "1:30": "5:15",
      "1:45": "6:07",
      "2:00": "7:00",
      "2:15": "7:52",
      "2:30": "8:45",
      "2:45": "9:37",
      "3:00": "10:30",
      "3:15": "11:22",
      "3:30": "12:15",
      "3:45": "13:07",
      "4:00": "14:00",
      "4:15": "14:52",
      "4:30": "15:45",
      "4:45": "16:37",
      "5:00": "17:30",
      "5:15": "18:22",
      "5:30": "19:15",
      "5:45": "20:07",
      "6:00": "21:00",
      "6:15": "21:52",
      "6:30": "22:45",
      "6:45": "23:37",
      "7:00": "24:30"
    },
    "75": {
      "1:00": "3:45",
      "1:15": "4:41",
      "1:30": "5:37",
      "1:45": "6:33",
      "2:00": "7:30",
      "2:15": "8:26",
      "2:30": "9:22",
      "2:45": "10:18",
      "3:00": "11:15",
      "3:15": "12:11",
      "3:30": "13:07",
      "3:45": "14:03",
      "4:00": "15:00",
      "4:15": "15:56",
      "4:30": "16:52",
      "4:45": "17:48",
      "5:00": "18:45",
      "5:15": "19:41",
      "5:30": "20:37",
      "5:45": "21:33",
      "6:00": "22:30",
      "6:15": "23:26",
      "6:30": "24:22",
      "6:45": "25:18",
      "7:00": "26:15"
    },
    "80": {
      "1:00": "4:00",
      "1:15": "5:00",
      "1:30": "6:00",
      "1:45": "7:00",
      "2:00": "8:00",
      "2:15": "9:00",
      "2:30": "10:00",
      "2:45": "11:00",
      "3:00": "12:00",
      "3:15": "13:00",
      "3:30": "14:00",
      "3:45": "15:00",
      "4:00": "16:00",
      "4:15": "17:00",
      "4:30": "18:00",
      "4:45": "19:00",
      "5:00": "20:00",
      "5:15": "21:00",
      "5:30": "22:00",
      "5:45": "23:00",
      "6:00": "24:00",
      "6:15": "25:00",
      "6:30": "26:00",
      "6:45": "27:00",
      "7:00": "28:00"
    }
  }
};


function getSurfaceInterval(depth, min, sec, gasType) {
  const availableDepths = Object.keys(surfaceIntervalTable[gasType] || {})
    .map(Number)
    .sort((a, b) => a - b);
  const roundedDepth = availableDepths.find(d => d >= depth);
  if (!roundedDepth) return "Depth out of range.";

  
  const diveSeconds = min * 60 + sec;
  const table = surfaceIntervalTable[gasType] || {};
  const depthRow = table[roundedDepth];
  if (!depthRow) return "No data for this depth.";

  const availableTimes = Object.keys(depthRow)
    .map(t => {
      const [m, s] = t.split(':').map(Number);
      return m * 60 + s;
    })
    .sort((a, b) => a - b);

  const roundedTimeSec = availableTimes.find(t => t >= diveSeconds);
  if (!roundedTimeSec) return "Time out of range for this depth.";

  const roundedTime = formatMinutesToMMSS(roundedTimeSec);
  const result = depthRow[roundedTime];

  if (!result) return "No matching time found for that depth.";
  return gasType === 'ean80' ? result + " ||| Must be off EAN 80 for 2 minutes before diving" : result;
}


export default function Home() {
  const [depth, setDepth] = useState('');
  const [minutes, setMinutes] = useState('');
  const [seconds, setSeconds] = useState('');
  const [gasType, setGasType] = useState('air');
  const [surfaceInterval, setSurfaceInterval] = useState(null);

  const calculateSI = () => {
    const d = parseFloat(depth);
    const m = parseInt(minutes);
    const s = parseInt(seconds);
    if (isNaN(d) || isNaN(m) || isNaN(s)) {
      setSurfaceInterval("Please enter valid numbers.");
      return;
    }
    const si = getSurfaceInterval(d, m, s, gasType);
    setSurfaceInterval(si);
  };

  const resetFields = () => {
    setDepth('');
    setMinutes('');
    setSeconds('');
    setSurfaceInterval(null);
  };

  const buttonStyle = (type) => ({
    marginRight: '10px',
    padding: '10px 20px',
    border: 'none',
    borderRadius: '8px',
    backgroundColor: gasType === type ? '#007acc' : '#1f2a38',
    color: '#fff',
    fontWeight: gasType === type ? 'bold' : 'normal',
    boxShadow: gasType === type ? '0 0 10px #007acc' : 'none',
    cursor: 'pointer'
  });

  const renderSurfaceInterval = () => (
    <AnimatePresence>
      {surfaceInterval && (
        <motion.div
          key="result"
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          exit={{ opacity: 0, y: 20 }}
          transition={{ duration: 0.4 }}
          style={{marginTop: '20px', fontSize: '20px', background: '#112233', padding: '15px', borderRadius: '10px'}}
        >
          {surfaceInterval.includes("|||") ? (
            <>
              <div>Surface Interval: <strong>{surfaceInterval.split("|||")[0]}</strong></div>
              <div style={{color: 'yellow', fontWeight: 'bold', marginTop: '10px'}}>⚠️ {surfaceInterval.split("|||")[1]}</div>
            </>
          ) : (
            <>Surface Interval: <strong>{surfaceInterval}</strong></>
          )}
        </motion.div>
      )}
    </AnimatePresence>
  );

  return (
    <div style={{background: 'linear-gradient(to bottom, #001f33, #000)', color: '#fff', minHeight: '100vh', padding: '40px 20px', fontFamily: 'Arial, sans-serif'}}>
      <div style={{maxWidth: '500px', margin: '0 auto', background: 'rgba(255,255,255,0.05)', padding: 30, borderRadius: '20px', backdropFilter: 'blur(10px)', boxShadow: '0 0 20px rgba(0,0,0,0.4)'}}>
        <h1 style={{textAlign: 'center', marginBottom: 30}}>Freedive Surface Interval Calculator</h1>

        <div style={{marginBottom: 20}}>
          <label>Dive Depth (meters)</label>
          <input
            type="number"
            value={depth}
            onChange={e => setDepth(e.target.value)}
            style={{width: '100%', padding: 10, borderRadius: 6, border: '1px solid #333', backgroundColor: '#111', color: '#fff'}}
          />
        </div>

        <div style={{marginBottom: 20}}>
          <label>Dive Time</label>
          <div style={{display: 'flex', gap: '10px'}}>
            <input
              type="number"
              placeholder="min"
              value={minutes}
              onChange={e => setMinutes(e.target.value)}
              style={{flex: 1, padding: 10, borderRadius: 6, border: '1px solid #333', backgroundColor: '#111', color: '#fff'}}
            />
            <input
              type="number"
              placeholder="sec"
              value={seconds}
              onChange={e => setSeconds(e.target.value)}
              style={{flex: 1, padding: 10, borderRadius: 6, border: '1px solid #333', backgroundColor: '#111', color: '#fff'}}
            />
          </div>
        </div>

        <div style={{marginBottom: 20}}>
          <label>Gas Type</label>
          <div style={{marginTop: 10}}>
            <button onClick={() => setGasType('air')} style={buttonStyle('air')}>Air</button>
            <button onClick={() => setGasType('ean80')} style={buttonStyle('ean80')}>EAN 80%</button>
          </div>
        </div>

        {renderSurfaceInterval()}

        <button
          onClick={calculateSI}
          style={{width: '100%', padding: 12, borderRadius: 8, backgroundColor: '#ec1c24', color: '#fff', fontWeight: 'bold', fontSize: '16px', cursor: 'pointer', border: 'none', boxShadow: '0 0 10px #ec1c24', marginBottom: '10px'}}>
          Calculate
        </button>

        <div style={{fontSize: '12px', marginBottom: '15px', color: '#ccc', lineHeight: 1.5}}>
          The data provided by this app is still in testing and is for use by those certified in <strong>Technical Freediving by PFI</strong> only. Any use without training by an authorized and active PFI instructor could result in injury.
        </div>

        <button
          onClick={resetFields}
          style={{width: '100%', padding: 10, borderRadius: 8, backgroundColor: '#555', color: '#fff', fontSize: '14px', cursor: 'pointer', border: 'none'}}>
          Reset
        </button>

        
      </div>

      <div style={{position: 'fixed',
        bottom: 0,
        width: '100%',
        background: '#0d1a26',
        color: '#fff',
        textAlign: 'center',
        padding: '10px 0',
        borderTop: '1px solid #1a2e40',
        fontSize: '14px',
        zIndex: 999}}>
        Powered by <a href="https://www.tdisdi.com/pfi/" target="_blank" rel="noopener noreferrer" style={{color: '#00bfff', textDecoration: 'underline'}}>
          Performance Freediving International
        </a>
      </div>
    </div>
  );
}
